(window.webpackJsonp=window.webpackJsonp||[]).push([["idleTimeout"],{HNiu:function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),o=n.n(i),r=n("i8i4"),a=(n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("brp2"),n("DQNa"),n("wLYn"),n("uL8W"),n("eoL8"),n("NBAS"),n("ExoC"),n("07d7"),n("SuFq"),n("JfAA"),n("PKPk"),n("3bBZ"),n("R5XZ"),n("17x9")),u=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){var n;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o),n=null}),t)}}function h(e,t){var n=0;return function(){var i=(new Date).getTime();if(!(i-n<t))return n=i,e.apply(void 0,arguments)}}var v="object"===("undefined"==typeof window||"undefined"==typeof window?"undefined":s(window)),b=v?document:{},g=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}(this,d(t).call(this,e)),c(p(n),"state",{idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null}),c(p(n),"tId",null),c(p(n),"_handleEvent",(function(e){var t=n.state,i=t.remaining,o=t.pageX,r=t.pageY,a=t.idle,u=n.props,s=u.timeout,l=u.onAction,c=u.debounce,f=u.throttle,d=u.stopOnIdle;if(c>0?n.debouncedAction(e):f>0?n.throttledAction(e):l(e),!i){if("mousemove"===e.type){if(e.pageX===o&&e.pageY===r)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(n.getElapsedTime()<200)return}clearTimeout(n.tId),n.tId=null;var p=new Date-n.getLastActiveTime();(a&&!d||!a&&p>s)&&n.toggleIdleState(e),n.setState({lastActive:+new Date,pageX:e.pageX,pageY:e.pageY}),a&&d||(n.tId=setTimeout(n.toggleIdleState,s))}})),e.debounce>0&&e.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return e.debounce>0&&(n.debouncedAction=m(e.onAction,e.debounce)),e.throttle>0&&(n.throttledAction=h(e.onAction,e.throttle)),e.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(p(n)),n.reset=n.reset.bind(p(n)),n.pause=n.pause.bind(p(n)),n.resume=n.resume.bind(p(n)),n.getRemainingTime=n.getRemainingTime.bind(p(n)),n.getElapsedTime=n.getElapsedTime.bind(p(n)),n.getLastActiveTime=n.getLastActiveTime.bind(p(n)),n.isIdle=n._isIdle.bind(p(n)),n}return f(t,e),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"componentDidMount",value:function(){this._bindEvents(),this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(e){e.debounce!==this.props.debounce&&(this.debouncedAction=m(this.props.onAction,this.props.debounce)),e.throttle!==this.props.throttle&&(this.throttledAction=h(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents(!0)}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var e=this;if(v){var t=this.state.eventsBound,n=this.props,i=n.element,o=n.events,r=n.passive,a=n.capture;t||(o.forEach((function(t){i.addEventListener(t,e._handleEvent,{capture:a,passive:r})})),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(v){var n=this.props,i=n.element,o=n.events,r=n.passive,a=n.capture;(this.state.eventsBound||t)&&(o.forEach((function(t){i.removeEventListener(t,e._handleEvent,{capture:a,passive:r})})),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(e){var t=this;this.setState((function(e){return{idle:!e.idle}}),(function(){var n=t.props,i=n.onActive,o=n.onIdle,r=n.stopOnIdle;t.state.idle?(r&&(clearTimeout(t.tId),t.tId=null,t._unbindEvents()),o(e)):r||(t._bindEvents(),i(e))}))}},{key:"reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null});var e=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,e)}},{key:"pause",value:function(){null===this.state.remaining&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"resume",value:function(){var e=this.state,t=e.remaining,n=e.idle;null!==t&&(this._bindEvents(),n||(this.setState({remaining:null,lastActive:+new Date}),this.tId=setTimeout(this.toggleIdleState,t)))}},{key:"getRemainingTime",value:function(){var e=this.state,t=e.remaining,n=e.lastActive,i=this.props.timeout;if(null!==t)return t<0?0:t;var o=i-(+new Date-n);return o<0?0:o}},{key:"getElapsedTime",value:function(){var e=this.state.oldDate;return+new Date-e}},{key:"getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}(i.Component);c(g,"propTypes",{timeout:u.a.number,events:u.a.arrayOf(u.a.string),onIdle:u.a.func,onActive:u.a.func,onAction:u.a.func,debounce:u.a.number,throttle:u.a.number,element:u.a.oneOfType([u.a.object,u.a.element]),startOnMount:u.a.bool,stopOnIdle:u.a.bool,passive:u.a.bool,capture:u.a.bool}),c(g,"defaultProps",{timeout:12e5,element:b,events:["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange"],onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0});var y=g,w=n("ohO+");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(u,e);var t,n,i,r,a=(t=u,function(){var e,n=S(t);if(O()){var i=S(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return A(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).idleTimer=null,t.state={timeout:1e3*e.duration,remaining:null,lastActive:null,elapsed:null,display:!1},t.onActive=t._onActive.bind(_(t)),t.onIdle=t._onIdle.bind(_(t)),t.reset=t._reset.bind(_(t)),t.changeTimeout=t._changeTimeout.bind(_(t)),t.route=e.route,t}return n=u,(i=[{key:"componentDidMount",value:function(){var e=this;null!==this.idleTimer&&(this.setState({remaining:this.idleTimer.getRemainingTime(),lastActive:this.idleTimer.getLastActiveTime(),elapsed:this.idleTimer.getElapsedTime()}),setInterval((function(){e.setState({remaining:e.idleTimer.getRemainingTime(),lastActive:e.idleTimer.getLastActiveTime(),elapsed:e.idleTimer.getElapsedTime(),display:!(e.state.timeout-e.idleTimer.getElapsedTime()>3e4)}),e.wasLastActive!==e.idleTimer.getLastActiveTime()&&e.refreshPage(),e.wasLastActive=e.idleTimer.getLastActiveTime(),e.state.elapsed>e.state.timeout&&e.logout()}),1e3))}},{key:"render",value:function(){var e=this;return o.a.createElement("section",null,o.a.createElement(y,{ref:function(t){e.idleTimer=t},onActive:this.onActive,onIdle:this.onIdle,timeout:this.state.timeout,throttle:50,startOnLoad:!0}),this.state.display?o.a.createElement("div",{className:"absolute w-full top-0 left-0 min-h-full bg-gray-900",style:{zIndex:99999}},o.a.createElement("div",{className:"absolute w-full top-0 left-0 min-h-screen"},o.a.createElement("div",{className:"bg-orange-700 absolute border-color-white border-4 rounded-lg h-40 w-64",style:{transform:"translate(-50%,-35%)",top:"35%",left:"50%"}},o.a.createElement("div",{className:"w-full p-2"},o.a.createElement("img",{className:"float-right",src:"/build/static/kookaburra.png",height:75}),o.a.createElement("h3",{className:"absolute top-0 left-0 pt-10 px-2 m-0 ml-1 border-color-white border-b-2"},"Kookaburra"),o.a.createElement("span",{className:"float-left"},this.props.trans_sessionExpire))))):"")}},{key:"refreshPage",value:function(){this.state.elapsed>this.state.timeout&&this.logout(),this.reset()}},{key:"_onActive",value:function(){this.refreshPage()}},{key:"_onIdle",value:function(){}},{key:"_changeTimeout",value:function(){this.setState({timeout:this.refs.timeoutInput.state.value()})}},{key:"_reset",value:function(){this.idleTimer.reset(),this.setState({display:!1,lastActive:Date.now()})}},{key:"logout",value:function(){Object(w.a)(this.route,{method:"GET"},!1)}}])&&E(n.prototype,i),r&&E(n,r),u}(i.Component),D=document.getElementById("idleTimeout");Object(r.render)(o.a.createElement(k,window.IDLETIMEOUT_PROPS),D)},R5XZ:function(e,t,n){var i=n("I+eb"),o=n("2oRo"),r=n("NC/Y"),a=[].slice,u=function(e){return function(t,n){var i=arguments.length>2,o=i?a.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(r)},{setTimeout:u(o.setTimeout),setInterval:u(o.setInterval)})},brp2:function(e,t,n){n("I+eb")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},"ohO+":function(e,t,n){"use strict";function i(e,t,n){var i="_self";t&&"string"==typeof t.target&&(i=t.target);var o="";t&&"string"==typeof t.specs&&(o=t.specs),"boolean"==typeof n&&!1===n&&(n=""),null==n&&(n="en_GB"),""!==n&&(n="/"+n),window.open(window.location.protocol+"//"+window.location.hostname+n+e,i,o)}n.d(t,"a",(function(){return i}))}},[["HNiu","runtime",0]]]);